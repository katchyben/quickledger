<odoo>
  <record id="academic_payment_wizard" model="ir.ui.view">
    <field name="name">Payment Wizard</field> 
    <field name="model">academic.payment.wizard</field> 
    <field name="arch" type="xml"> 
      <form>
        <group>
            <field name="session_id" widget="selection" />
            <field name="programme_id" options="{'no_open': True, 'no_create_edit': True}"/>
            <field name="diploma_id" invisible="1"/>
            <field name="student_id" domain="[('programme_id', '=', programme_id)]" options="{'no_open': True, 'no_create_edit': True}"/>
            <field name="level_id"  options="{'no_open': True, 'no_create_edit': True}"/>
            <field name="payment_type"  widget="radio"/>
            <field name="amount_due" attrs="{'invisible':[('payment_type', '=', 'Others')]}"/>
        </group>
        <field name="outstanding_fee_ids" 
               attrs="{'invisible':[('payment_type', '=', 'Balance Brought Forward')]}"
               domain="[('student_id', '=', student_id),('balance', '>', 1)]" options="{'no_create': True}">
          <tree>
            <field name="type_id" readonly="True" string="Fees/Charges"/>
            <field name="amount_due" sum="Total Amount Due"/>
            <field name="amount_paid" sum="Total Amount Paid"/>
            <field name='balance' sum="Total Amount Outstanding"/>
          </tree>
        </field>

        <group>
           <group>
               <field name="payment_date" />
           </group>
            <group>
               <field name="transaction_type" widget="radio"/>
           </group>
           <group>
               <field name="amount" widget="monetary" options="{'currency_field': 'currency_id'}"/>
               <field name="currency_id" invisible="1"/>
           </group>
           <group>
               <field name="receipt_number" attrs="{'invisible': [('transaction_type','=', 'Bank')]}"/>
            </group>
           <group>
               <field name="bank_id" domain="[('bank_id', '!=', False)]" options="{'no_open': True, 'no_create_edit': True}" attrs="{'invisible': [('transaction_type','=', 'Cash')]}"/>
           </group>
           <group>
               <field name="teller_number" attrs="{'invisible': [('transaction_type','=', 'Cash')]}"/>
            </group>
        </group>

        <footer>
          <button type="object" name="do_process_payment"
            string="Submit" class="oe_highlight"/>
          <button special="cancel" string="Cancel"/>
        </footer>
      </form>
    </field>
  </record>
  <act_window id="action_academic_payment_model_wizard"
              name="Enter Payments"
              res_model="academic.payment.wizard"
              binding_model="academic.payment.wizard"
              view_mode="form"
              target="new"
              binding_views="form"/>
</odoo>






